#!/usr/bin/env node
'use strict';

process.title = 'Stencil';

var minNodeVersion = '6.11.0';
var nodeSysUtil = require('../dist/sys/node/node-sys-util.js');

if (process.argv.indexOf('--skip-node-check') === -1 && nodeSysUtil.semver.lt(process.version, minNodeVersion)) {
  console.error(`Your Node.js version is ${process.version}. Stencil requires a minimum of version ${minNodeVersion}. Please update to the latest Node LTS version.`);
  process.exit(1);
}

var nodeSysMain = require('../dist/sys/node/node-sys-main.js');
var sys = new nodeSysMain.NodeSystem();

var nodeLogger = require('../dist/sys/node/node-logger.js');
var logger = new nodeLogger.NodeLogger(nodeSysUtil);

var cli = require('../dist/cli/index.js');
cli.run(process, sys, logger);
